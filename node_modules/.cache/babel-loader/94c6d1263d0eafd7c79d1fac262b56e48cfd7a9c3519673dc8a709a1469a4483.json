{"ast":null,"code":"var _jsxFileName = \"/Users/razex/react-frontend/src/pages/SubscriptionForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '../styles/SubscriptionForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SubscriptionForm() {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const subscription = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.subscription;\n  const [cardNumber, setCardNumber] = useState('');\n  const [expiryDate, setExpiryDate] = useState('');\n  const [cvc, setCvc] = useState('');\n  const [errors, setErrors] = useState({});\n  const validateCardNumber = number => {\n    const isValid = /^\\d{16}$/.test(number); // Проверка на 16 цифр\n    return isValid;\n  };\n  const validateExpiryDate = date => {\n    const [month, year] = date.split('/');\n    const isValidFormat = /^\\d{2}\\/\\d{2}$/.test(date); // Формат MM/YY\n    const isValidMonth = month >= 1 && month <= 12; // Проверка месяца\n    const currentYear = new Date().getFullYear() % 100; // Последние 2 цифры года\n    const isValidYear = year >= currentYear;\n    return isValidFormat && isValidMonth && isValidYear;\n  };\n  const validateCvc = code => {\n    const isValid = /^\\d{3}$/.test(code); // Проверка на 3 цифры\n    return isValid;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newErrors = {};\n    if (!validateCardNumber(cardNumber)) {\n      newErrors.cardNumber = 'Номер карты должен содержать 16 цифр.';\n    }\n    if (!validateExpiryDate(expiryDate)) {\n      newErrors.expiryDate = 'Срок действия карты должен быть в формате MM/YY.';\n    }\n    if (!validateCvc(cvc)) {\n      newErrors.cvc = 'CVC должен содержать 3 цифры.';\n    }\n    setErrors(newErrors);\n    if (Object.keys(newErrors).length === 0) {\n      alert(`Подписка \"${subscription.name}\" успешно оформлена!`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"subscription-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u0412\\u044B \\u0432\\u044B\\u0431\\u0440\\u0430\\u043B\\u0438 \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443: \", subscription.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0440\\u0442\\u044B:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: cardNumber,\n          onChange: e => setCardNumber(e.target.value.replace(/\\D/g, '')) // Только цифры\n          ,\n          placeholder: \"1234 5678 9012 3456\",\n          maxLength: \"16\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), errors.cardNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: errors.cardNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u0421\\u0440\\u043E\\u043A \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F (MM/YY):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: expiryDate,\n          onChange: e => setExpiryDate(e.target.value.replace(/[^0-9/]/g, '')) // Только цифры и \"/\"\n          ,\n          placeholder: \"MM/YY\",\n          maxLength: \"5\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), errors.expiryDate && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: errors.expiryDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"CVC:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: cvc,\n          onChange: e => setCvc(e.target.value.replace(/\\D/g, '')) // Только цифры\n          ,\n          placeholder: \"123\",\n          maxLength: \"3\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), errors.cvc && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error\",\n          children: errors.cvc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(SubscriptionForm, \"ewX0CsPenM1qKDpth5/kr/6X3QY=\", false, function () {\n  return [useLocation];\n});\n_c = SubscriptionForm;\nexport default SubscriptionForm;\nvar _c;\n$RefreshReg$(_c, \"SubscriptionForm\");","map":{"version":3,"names":["React","useState","useLocation","jsxDEV","_jsxDEV","SubscriptionForm","_s","_location$state","location","subscription","state","cardNumber","setCardNumber","expiryDate","setExpiryDate","cvc","setCvc","errors","setErrors","validateCardNumber","number","isValid","test","validateExpiryDate","date","month","year","split","isValidFormat","isValidMonth","currentYear","Date","getFullYear","isValidYear","validateCvc","code","handleSubmit","e","preventDefault","newErrors","Object","keys","length","alert","name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","replace","placeholder","maxLength","required","_c","$RefreshReg$"],"sources":["/Users/razex/react-frontend/src/pages/SubscriptionForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '../styles/SubscriptionForm.css';\n\nfunction SubscriptionForm() {\n    const location = useLocation();\n    const subscription = location.state?.subscription;\n\n    const [cardNumber, setCardNumber] = useState('');\n    const [expiryDate, setExpiryDate] = useState('');\n    const [cvc, setCvc] = useState('');\n    const [errors, setErrors] = useState({});\n\n    const validateCardNumber = (number) => {\n        const isValid = /^\\d{16}$/.test(number); // Проверка на 16 цифр\n        return isValid;\n    };\n\n    const validateExpiryDate = (date) => {\n        const [month, year] = date.split('/');\n        const isValidFormat = /^\\d{2}\\/\\d{2}$/.test(date); // Формат MM/YY\n        const isValidMonth = month >= 1 && month <= 12; // Проверка месяца\n        const currentYear = new Date().getFullYear() % 100; // Последние 2 цифры года\n        const isValidYear = year >= currentYear;\n        return isValidFormat && isValidMonth && isValidYear;\n    };\n\n    const validateCvc = (code) => {\n        const isValid = /^\\d{3}$/.test(code); // Проверка на 3 цифры\n        return isValid;\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const newErrors = {};\n\n        if (!validateCardNumber(cardNumber)) {\n            newErrors.cardNumber = 'Номер карты должен содержать 16 цифр.';\n        }\n        if (!validateExpiryDate(expiryDate)) {\n            newErrors.expiryDate = 'Срок действия карты должен быть в формате MM/YY.';\n        }\n        if (!validateCvc(cvc)) {\n            newErrors.cvc = 'CVC должен содержать 3 цифры.';\n        }\n\n        setErrors(newErrors);\n\n        if (Object.keys(newErrors).length === 0) {\n            alert(`Подписка \"${subscription.name}\" успешно оформлена!`);\n        }\n    };\n\n    return (\n        <div className=\"subscription-form-container\">\n            <h1>Оформление подписки</h1>\n            <p>Вы выбрали подписку: {subscription.name}</p>\n            <form onSubmit={handleSubmit}>\n                <label>\n                    Номер карты:\n                    <input\n                        type=\"text\"\n                        value={cardNumber}\n                        onChange={(e) => setCardNumber(e.target.value.replace(/\\D/g, ''))} // Только цифры\n                        placeholder=\"1234 5678 9012 3456\"\n                        maxLength=\"16\"\n                        required\n                    />\n                    {errors.cardNumber && <span className=\"error\">{errors.cardNumber}</span>}\n                </label>\n                <label>\n                    Срок действия (MM/YY):\n                    <input\n                        type=\"text\"\n                        value={expiryDate}\n                        onChange={(e) => setExpiryDate(e.target.value.replace(/[^0-9/]/g, ''))} // Только цифры и \"/\"\n                        placeholder=\"MM/YY\"\n                        maxLength=\"5\"\n                        required\n                    />\n                    {errors.expiryDate && <span className=\"error\">{errors.expiryDate}</span>}\n                </label>\n                <label>\n                    CVC:\n                    <input\n                        type=\"text\"\n                        value={cvc}\n                        onChange={(e) => setCvc(e.target.value.replace(/\\D/g, ''))} // Только цифры\n                        placeholder=\"123\"\n                        maxLength=\"3\"\n                        required\n                    />\n                    {errors.cvc && <span className=\"error\">{errors.cvc}</span>}\n                </label>\n                <button type=\"submit\">Оплатить</button>\n            </form>\n        </div>\n    );\n}\n\nexport default SubscriptionForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}